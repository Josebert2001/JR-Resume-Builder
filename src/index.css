@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;

    --radius: 0.5rem;

    --sidebar-background: 0 0% 98%;

    --sidebar-foreground: 240 5.3% 26.1%;

    --sidebar-primary: 240 5.9% 10%;

    --sidebar-primary-foreground: 0 0% 98%;

    --sidebar-accent: 240 4.8% 95.9%;

    --sidebar-accent-foreground: 240 5.9% 10%;

    --sidebar-border: 220 13% 91%;

    --sidebar-ring: 217.2 91.2% 59.8%;

    --resume-primary: 221 83% 53%;
    --resume-secondary: 217 91% 60%;
    --resume-accent: 214 94% 67%;
    --resume-success: 162 94% 30%;
    --resume-warning: 43 96% 42%;
    --resume-error: 0 84% 60%;
    --resume-light: 214 100% 98%;
    --resume-dark: 217 33% 17%;
    --resume-muted: 215 25% 27%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  /* Improved focus styles for better accessibility */
  *:focus-visible {
    @apply outline-none ring-2 ring-resume-primary ring-offset-2 ring-offset-white;
  }

  /* Smooth scrolling for the whole page */
  html {
    scroll-behavior: smooth;
    @apply antialiased;
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
  }
  
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Poppins', system-ui, sans-serif;
    @apply tracking-tight font-medium;
  }

  /* Reduced motion preferences */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}

.resume-form {
  @apply max-w-3xl mx-auto p-6;
}

.resume-preview {
  @apply bg-white shadow-lg p-8 max-w-3xl mx-auto rounded-lg;
}

/* Enhanced animations */
@keyframes float {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
  100% { transform: translateY(0px); }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

/* Improved mobile responsiveness */
@media (max-width: 640px) {
  .container {
    @apply px-4;
  }
  
  h1 {
    @apply text-2xl;
  }
  
  h2 {
    @apply text-xl;
  }
  
  .resume-preview {
    @apply p-4;
  }
}

/* Enhanced accessibility */
.sr-only {
  @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
}

.skip-to-content {
  @apply absolute left-4 -top-full z-50 bg-white px-4 py-2 transition-all focus:top-4;
}

.input-group {
  @apply mb-6;
}

.step-indicator {
  @apply flex justify-center my-8;
}

.step-indicator-dot {
  @apply w-3 h-3 rounded-full mx-2;
}

.step-indicator-dot.active {
  @apply bg-resume-primary;
}

.step-indicator-dot.completed {
  @apply bg-resume-accent;
}

.step-indicator-dot.incomplete {
  @apply bg-gray-300;
}

@media print {
  @page {
    size: A4;
    margin: 15mm;
  }

  /* Hide UI elements when printing */
  button, 
  .job-search,
  nav,
  footer {
    display: none !important;
  }

  /* PDF Layout Improvements */
  .resume-preview {
    margin: 0 !important;
    padding: 2rem !important;
    border: none !important;
    box-shadow: none !important;
    max-width: none !important;
    width: 100% !important;
  }

  /* Typography for PDF */
  h1 {
    font-size: 24pt !important;
    margin-bottom: 1rem !important;
  }

  h2 {
    font-size: 16pt !important;
    margin-bottom: 0.75rem !important;
    break-after: avoid !important;
  }

  h3 {
    font-size: 13pt !important;
    margin-bottom: 0.5rem !important;
    break-after: avoid !important;
  }

  p, li {
    font-size: 11pt !important;
    line-height: 1.4 !important;
    orphans: 3;
    widows: 3;
  }

  /* Section Spacing */
  .mb-8 {
    margin-bottom: 1.5rem !important;
  }

  .mb-4 {
    margin-bottom: 0.75rem !important;
  }

  /* Avoid breaking sections across pages */
  .mb-8, .space-y-6 > div {
    break-inside: avoid;
  }

  /* Grid layout fixes for PDF */
  .grid {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
  }

  /* Icons and colors */
  .text-resume-primary {
    color: rgb(30, 64, 175) !important;
  }

  .text-resume-secondary {
    color: rgb(59, 130, 246) !important;
  }

  .border-resume-primary {
    border-color: rgb(30, 64, 175) !important;
  }

  /* Preserve icon colors */
  svg {
    color: rgb(59, 130, 246) !important;
  }

  /* Make links visible but not too prominent */
  a {
    text-decoration: none !important;
    color: rgb(30, 64, 175) !important;
  }

  /* Ensure proper list formatting */
  .space-y-4 > * + * {
    margin-top: 1rem !important;
  }

  .space-y-6 > * + * {
    margin-top: 1.5rem !important;
  }

  /* Border styling */
  .border-b {
    border-bottom-width: 1px !important;
    border-bottom-style: solid !important;
    border-bottom-color: rgb(59, 130, 246) !important;
  }

  /* Ensure bullet points and icons print correctly */
  .h-2.w-2.rounded-full {
    background-color: rgb(59, 130, 246) !important;
    print-color-adjust: exact !important;
  }

  /* Optimize image quality */
  img {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
}

/* Resume Template Styles */
/* Professional Template */
.professional-template {
  --spacing: 1.5rem;
  --primary-color: #2c3e50;
  --secondary-color: #34495e;
}

.professional-template .name-title {
  font-size: 2rem;
  color: var(--primary-color);
  letter-spacing: -0.5px;
  margin-bottom: 0.5rem;
}

.professional-template .section-title {
  color: var(--primary-color);
  font-size: 1.25rem;
  font-weight: 600;
  border-bottom: 2px solid var(--primary-color);
  padding-bottom: 0.5rem;
  margin-bottom: 1rem;
}

/* Modern Template */
.modern-template {
  --spacing: 1.75rem;
  --primary-color: #1a73e8;
  --secondary-color: #174ea6;
}

.modern-template .name-title {
  font-size: 2.25rem;
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  -webkit-background-clip: text;
  color: transparent;
  margin-bottom: 0.75rem;
}

.modern-template .section-title {
  color: var(--primary-color);
  font-size: 1.35rem;
  font-weight: 500;
  margin-bottom: 1rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.modern-template .section-title::before {
  content: '';
  display: block;
  width: 0.25rem;
  height: 1.5rem;
  background: var(--primary-color);
  border-radius: 2px;
}

.modern-template .education-entry {
  margin-bottom: 1.5rem;
}

.modern-template .education-degree {
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--primary-color);
  margin-bottom: 0.25rem;
}

.modern-template .education-school {
  font-size: 1rem;
  font-weight: 500;
  color: var(--secondary-color);
  margin-bottom: 0.25rem;
}

.modern-template .education-details {
  font-size: 0.9rem;
  color: #4a5568;
  line-height: 1.5;
}

.modern-template .education-courses {
  font-size: 0.9rem;
  color: #4a5568;
  font-style: italic;
  margin-top: 0.25rem;
}

/* Minimal Template */
.minimal-template {
  --spacing: 1.25rem;
  --primary-color: #2d3436;
  --secondary-color: #636e72;
}

.minimal-template .name-title {
  font-size: 1.75rem;
  color: var(--primary-color);
  font-weight: 500;
  margin-bottom: 0.5rem;
}

.minimal-template .section-title {
  text-transform: uppercase;
  letter-spacing: 1px;
  font-size: 0.875rem;
  color: var(--secondary-color);
  margin-bottom: 1rem;
}

/* Chronological Template */
.chronological-template {
  --spacing: 1.5rem;
  --primary-color: #2c3e50;
  --secondary-color: #7f8c8d;
}

.chronological-template .section-title {
  color: var(--primary-color);
  font-size: 1.25rem;
  border-bottom: 1px solid var(--secondary-color);
  padding-bottom: 0.25rem;
  margin-bottom: 1rem;
}

/* Functional Template */
.functional-template {
  --spacing: 1.5rem;
  --primary-color: #16a085;
  --secondary-color: #1abc9c;
}

.functional-template .section-title {
  color: var(--primary-color);
  font-size: 1.25rem;
  font-weight: 600;
  margin-bottom: 1rem;
  padding-left: 1rem;
  border-left: 4px solid var(--primary-color);
}

/* Combination Template */
.combination-template {
  --spacing: 1.5rem;
  --primary-color: #2980b9;
  --secondary-color: #3498db;
}

.combination-template .section-title {
  color: var(--primary-color);
  font-size: 1.25rem;
  margin-bottom: 1rem;
  padding: 0.5rem 1rem;
  background: linear-gradient(to right, var(--secondary-color) 0%, transparent 100%);
  border-radius: 4px;
}

/* Infographic Template */
.infographic-template {
  --spacing: 1.75rem;
  --primary-color: #e74c3c;
  --secondary-color: #c0392b;
}

.infographic-template .name-title {
  font-size: 2rem;
  color: var(--primary-color);
  margin-bottom: 1rem;
}

.infographic-template .section-title {
  display: inline-block;
  color: white;
  background: var(--primary-color);
  padding: 0.5rem 1rem;
  border-radius: 4px;
  margin-bottom: 1rem;
  font-size: 1.1rem;
}

/* Targeted Template */
.targeted-template {
  --spacing: 1.5rem;
  --primary-color: #6c5ce7;
  --secondary-color: #5d52d1;
}

.targeted-template .name-title {
  font-size: 2rem;
  color: var(--primary-color);
  margin-bottom: 0.5rem;
}

.targeted-template .section-title {
  color: var(--primary-color);
  font-size: 1.25rem;
  margin-bottom: 1rem;
  border-bottom: 2px dashed var(--secondary-color);
  padding-bottom: 0.25rem;
}

/* Common styles for all templates */
.section-container {
  margin-bottom: var(--spacing, 1.5rem);
}

.section-content {
  color: #4a5568;
  line-height: 1.6;
}

/* Print styles */
@media print {
  .section-container {
    break-inside: avoid;
  }
  
  .page-break {
    break-before: page;
  }
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .name-title {
    font-size: 1.5rem !important;
  }
  
  .section-title {
    font-size: 1.1rem !important;
  }
}
